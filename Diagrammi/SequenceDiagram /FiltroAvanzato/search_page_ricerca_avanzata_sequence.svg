<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="904px" preserveAspectRatio="none" style="width:1046px;height:904px;background:#FFFFFF;" version="1.1" viewBox="0 0 1046 904" width="1046px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="593.8672" style="stroke:#000000;stroke-width:1.5;" width="1019" x="10" y="212.6953"/><rect fill="none" height="90.2031" style="stroke:#000000;stroke-width:1.5;" width="371" x="20" y="709.3594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="56" x2="56" y1="81.2969" y2="823.5625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="314" x2="314" y1="81.2969" y2="823.5625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="653" x2="653" y1="81.2969" y2="823.5625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="834" x2="834" y1="81.2969" y2="823.5625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="972" x2="972" y1="81.2969" y2="823.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="30" y="77.9951">Utente</text><ellipse cx="56.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M56.5,21.5 L56.5,48.5 M43.5,29.5 L69.5,29.5 M56.5,48.5 L43.5,63.5 M56.5,48.5 L69.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="30" y="835.5576">Utente</text><ellipse cx="56.5" cy="847.3594" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M56.5,855.3594 L56.5,882.3594 M43.5,863.3594 L69.5,863.3594 M56.5,882.3594 L43.5,897.3594 M56.5,882.3594 L69.5,897.3594 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133" x="248" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="255" y="69.9951">SearchPageState</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="133" x="248" y="822.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="255" y="842.5576">SearchPageState</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="179" x="564" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="571" y="69.9951">RecentSearchesService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="179" x="564" y="822.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="571" y="842.5576">RecentSearchesService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="163" x="753" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="760" y="69.9951">ImmobileRepositories</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="163" x="753" y="822.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="760" y="842.5576">ImmobileRepositories</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="926" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="933" y="69.9951">HttpService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="926" y="822.5625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="933" y="842.5576">HttpService</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1039" x="0" y="111.8633"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1039" y1="111.8633" y2="111.8633"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1039" y1="114.8633" y2="114.8633"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="161" x="439" y="101.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="142" x="445" y="117.3638">Inserimento ricerca</text><polygon fill="#181818" points="302.5,151.5625,312.5,155.5625,302.5,159.5625,306.5,155.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="56.5" x2="308.5" y1="155.5625" y2="155.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="63.5" y="150.4966">Inserisce query nella search bar</text><line style="stroke:#181818;stroke-width:1.0;" x1="314.5" x2="356.5" y1="184.6953" y2="184.6953"/><line style="stroke:#181818;stroke-width:1.0;" x1="356.5" x2="356.5" y1="184.6953" y2="197.6953"/><line style="stroke:#181818;stroke-width:1.0;" x1="315.5" x2="356.5" y1="197.6953" y2="197.6953"/><polygon fill="#181818" points="325.5,193.6953,315.5,197.6953,325.5,201.6953,321.5,197.6953" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="321.5" y="179.6294">Valida la query</text><path d="M10,212.6953 L74,212.6953 L74,219.8281 L64,229.8281 L10,229.8281 L10,212.6953 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="593.8672" style="stroke:#000000;stroke-width:1.5;" width="1019" x="10" y="212.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="225.7622">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="88" x="89" y="224.9058">[Query vuota]</text><polygon fill="#181818" points="67.5,246.9609,57.5,250.9609,67.5,254.9609,63.5,250.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="61.5" x2="313.5" y1="250.9609" y2="250.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="73.5" y="245.895">Mostra messaggio di errore</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1029" y1="259.9609" y2="259.9609"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="91" x="15" y="270.1714">[Query valida]</text><line style="stroke:#181818;stroke-width:1.0;" x1="314.5" x2="356.5" y1="294.8984" y2="294.8984"/><line style="stroke:#181818;stroke-width:1.0;" x1="356.5" x2="356.5" y1="294.8984" y2="307.8984"/><line style="stroke:#181818;stroke-width:1.0;" x1="315.5" x2="356.5" y1="307.8984" y2="307.8984"/><polygon fill="#181818" points="325.5,303.8984,315.5,307.8984,325.5,311.8984,321.5,307.8984" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="321.5" y="289.8325">Mostra caricamento</text><polygon fill="#181818" points="641.5,333.0313,651.5,337.0313,641.5,341.0313,645.5,337.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="314.5" x2="647.5" y1="337.0313" y2="337.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="321.5" y="331.9653">addSearch(query)</text><polygon fill="#181818" points="325.5,362.1641,315.5,366.1641,325.5,370.1641,321.5,366.1641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="319.5" x2="652.5" y1="366.1641" y2="366.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="331.5" y="361.0981">conferma salvataggio</text><line style="stroke:#181818;stroke-width:1.0;" x1="314.5" x2="356.5" y1="395.2969" y2="395.2969"/><line style="stroke:#181818;stroke-width:1.0;" x1="356.5" x2="356.5" y1="395.2969" y2="408.2969"/><line style="stroke:#181818;stroke-width:1.0;" x1="315.5" x2="356.5" y1="408.2969" y2="408.2969"/><polygon fill="#181818" points="325.5,404.2969,315.5,408.2969,325.5,412.2969,321.5,408.2969" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="321.5" y="390.231">Prepara query (split, trim)</text><polygon fill="#181818" points="822.5,433.4297,832.5,437.4297,822.5,441.4297,826.5,437.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="314.5" x2="828.5" y1="437.4297" y2="437.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="321.5" y="432.3638">searchImmobili(query)</text><polygon fill="#181818" points="960.5,462.5625,970.5,466.5625,960.5,470.5625,964.5,466.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="834.5" x2="966.5" y1="466.5625" y2="466.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="841.5" y="461.4966">GET /immobili</text><polygon fill="#181818" points="845.5,491.6953,835.5,495.6953,845.5,499.6953,841.5,495.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="839.5" x2="971.5" y1="495.6953" y2="495.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="851.5" y="490.6294">Lista immobili</text><polygon fill="#181818" points="325.5,520.8281,315.5,524.8281,325.5,528.8281,321.5,524.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="319.5" x2="833.5" y1="524.8281" y2="524.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="331.5" y="519.7622">Lista risultati grezzi</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1039" x="0" y="553.3945"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1039" y1="553.3945" y2="553.3945"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1039" y1="556.3945" y2="556.3945"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="146" x="446.5" y="542.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="127" x="452.5" y="558.895">Ricerca Avanzata</text><line style="stroke:#181818;stroke-width:1.0;" x1="314.5" x2="356.5" y1="597.0938" y2="597.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="356.5" x2="356.5" y1="597.0938" y2="610.0938"/><line style="stroke:#181818;stroke-width:1.0;" x1="315.5" x2="356.5" y1="610.0938" y2="610.0938"/><polygon fill="#181818" points="325.5,606.0938,315.5,610.0938,325.5,614.0938,321.5,610.0938" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301" x="321.5" y="592.0278">Applica filtri (es. superficie, stanze, parcheggio)</text><line style="stroke:#181818;stroke-width:1.0;" x1="314.5" x2="356.5" y1="639.2266" y2="639.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="356.5" x2="356.5" y1="639.2266" y2="652.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="315.5" x2="356.5" y1="652.2266" y2="652.2266"/><polygon fill="#181818" points="325.5,648.2266,315.5,652.2266,325.5,656.2266,321.5,652.2266" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="321.5" y="634.1606">Applica servizi (balcone, ascensore, arredato, ecc.)</text><line style="stroke:#181818;stroke-width:1.0;" x1="314.5" x2="356.5" y1="681.3594" y2="681.3594"/><line style="stroke:#181818;stroke-width:1.0;" x1="356.5" x2="356.5" y1="681.3594" y2="694.3594"/><line style="stroke:#181818;stroke-width:1.0;" x1="315.5" x2="356.5" y1="694.3594" y2="694.3594"/><polygon fill="#181818" points="325.5,690.3594,315.5,694.3594,325.5,698.3594,321.5,694.3594" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="292" x="321.5" y="676.2935">Applica ordinamento (prezzo, superficie, ecc.)</text><path d="M20,709.3594 L84,709.3594 L84,716.4922 L74,726.4922 L20,726.4922 L20,709.3594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="90.2031" style="stroke:#000000;stroke-width:1.5;" width="371" x="20" y="709.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="35" y="722.4263">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="115" x="99" y="721.5698">[Nessun risultato]</text><polygon fill="#181818" points="67.5,743.625,57.5,747.625,67.5,751.625,63.5,747.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="61.5" x2="313.5" y1="747.625" y2="747.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="73.5" y="742.5591">Mostra messaggio "nessun risultato"</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="391" y1="756.625" y2="756.625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="107" x="25" y="766.8354">[Risultati filtrati]</text><polygon fill="#181818" points="67.5,787.5625,57.5,791.5625,67.5,795.5625,63.5,791.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="61.5" x2="313.5" y1="791.5625" y2="791.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="73.5" y="786.4966">Mostra risultati nella lista</text><!--MD5=[42ae533e17ea4caca99f073bb2dd269c]
@startuml
actor Utente
participant "SearchPageState" as UI
participant "RecentSearchesService" as Recent
participant "ImmobileRepositories" as Repo
participant "HttpService" as Http

== Inserimento ricerca ==
Utente -> UI : Inserisce query nella search bar
UI -> UI : Valida la query
alt Query vuota
    UI -> Utente : Mostra messaggio di errore
else Query valida
    UI -> UI : Mostra caricamento
    UI -> Recent : addSearch(query)
    Recent - -> UI : conferma salvataggio

    UI -> UI : Prepara query (split, trim)
    UI -> Repo : searchImmobili(query)
    Repo -> Http : GET /immobili
    Http - -> Repo : Lista immobili
    Repo - -> UI : Lista risultati grezzi

    == Ricerca Avanzata ==
    UI -> UI : Applica filtri (es. superficie, stanze, parcheggio)
    UI -> UI : Applica servizi (balcone, ascensore, arredato, ecc.)
    UI -> UI : Applica ordinamento (prezzo, superficie, ecc.)

    alt Nessun risultato
        UI -> Utente : Mostra messaggio "nessun risultato"
    else Risultati filtrati
        UI - -> Utente : Mostra risultati nella lista
    end
end
@enduml

PlantUML version 1.2022.7(Mon Aug 22 17:01:30 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>